<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;">     </canvas>
<script>
var cols1=["rgba(100,20,30,0)","grey","orange","lightblue","coral","blue","lightgrey","black","darkred","grey","orange","lightblue","coral","blue","lightgrey","black"];
var cols=["rgba(10,50,30,1)","rgba(10,70,30,1)","grey","lightblue","coral","blue","lightgrey","black","darkred","grey","orange","lightblue","coral","blue","lightgrey","black"];
function createPieChart(canv,data0){
  var data=getCirclePercent(data0);
  var ctx = canv.getContext("2d");
  ctx.font = "14px Arial";
  var title="Hello World";
  ctx.fillText("Hello World",(myCanvas.width/2)-((title.length*14)/2),50);
  //ctx.fillText("Hello World", 0,0 );
  var lastStart;
  for(var i=0; i<data.length; i++){
    var start=0, steps=data[i];
    if(i===0){start=0;}
    else {
      start =lastStart;
    }
     lastStart= createIt(start,steps,cols[i]);
     //console.log(lastStart);
  }

  function createIt(start,step,color){

    var steps = start+step, drawPercent=false, perc = Math.round((step*100)/360);

    for(var i = start; i < steps; i+=.1) {
       ctx.beginPath();
       ctx.strokeStyle=color;
       var x= (200+100* Math.cos(i* Math.PI/180));
       var y=(200+100* Math.sin(i* Math.PI/180));
       ctx.moveTo(200,200);
       ctx.lineTo(x,y);
       ctx.closePath();
       if(i >= (steps/2) && !drawPercent){
         //console.log(i, (steps));

         drawPercent=true;
       }
       ctx.stroke();

   }
   ctx.fillText(perc+"%",200+120* Math.cos((start+(step/2))* Math.PI/180),200+120* Math.sin((start+(step/2))* Math.PI/180));
   return steps;
  }
  function getSum(data){
    var sum =0;
    for(var i =0; i<data.length; i++){
      sum+=data[i];
    }
    return sum;
  }
  function getCirclePercent(data){
    var sum =getSum(data);
    var newData=[];
    for(var i =0; i<data.length; i++){
      var percent_total=(data[i]/sum)*100;
      var percent_circle_based=(percent_total*360)/100;
      newData.push(percent_circle_based);
    }
    return newData;
  }

}

// function next(data){
//   if()
// }


var c = document.getElementById("myCanvas");

  var arr=[0.5819,
0.2851,
0.045,
0.0278,
0.0269,
0.014,
0.0079,
0.0045,
0.0033,
0.003,
0.0005,
0.0002]
createPieChart(c,arr);


var fruits = ["Banana", "Orange", "Apple", "Mango"];
//console.log(fruits.indexOf("Mango"));
myFunction();
function myFunction() {
    fruits.splice(2, 0, "Lemon", "Kiwi");
    //console.log(fruits);

}
//console.log(fruits.indexOf("Mango"));



</script>
  </body>
</html>
